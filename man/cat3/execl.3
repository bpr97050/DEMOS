
EXECL(3)        ДЕМОС. Библиотечные функции         EXECL(3)


ИИММЯЯ
       eexxeeccll, eexxeeccvv, eexxeeccllpp,  eexxeeccvvpp,  eennvviirroonn  -  выполнить
       файл.

ФФООРРММААТТ
       eexxeeccll(_n_a_m_e, _a_r_g_0, _a_r_g_1, ..., _a_r_g_n, 0)
       cchhaarr *_n_a_m_e, *_a_r_g_0, *_a_r_g_1, ..., *_a_r_g_n;

       eexxeeccvv(_n_a_m_e, _a_r_g_v)
       cchhaarr *_n_a_m_e, *_a_r_g_v[];

       eexxeeccllpp(_n_a_m_e, _a_r_g_0, _a_r_g_1, ..., _a_r_g_n, 0)
       cchhaarr *_n_a_m_e, *_a_r_g_0, *_a_r_g_1, ..., *_a_r_g_n;

       eexxeeccvvpp(_n_a_m_e, _a_r_g_v)
       cchhaarr *_n_a_m_e, *_a_r_g_v[];

       eexxtteerrnn cchhaarr **eennvviirroonn;

ООППИИССААННИИЕЕ
       Эти программы обеспечивают различные интерфейсы  сис-
       темного  вызова eexxeeccee.  Здесь приводится только крат-
       кое описание (подробнее см.  _e_x_e_c_v_e(2)).

       Подпрограмма eexxeecc  во  всех  формах  заменяет  память
       вызываемого процесса на указанный файл, а затем пере-
       дает управление на входную точку  этого  файла.   При
       успешном  завершении возврата из eexxeecc нет; предыдущее
       состояние памяти вызывающего процесса теряется.

       Аргумент _n_a_m_e - это  указатель  на  имя  выполняемого
       файла.   Указатели  _a_r_g[0],  _a_r_g[1] ...  указывают на
       строки,  заканчивающиеся  нулевым   байтом.    Обычно
       _a_r_g[0] - это имя файла.

       Для языка Си возможны два интерфейса:

       eexxeeccll  Используется при  вызове  известного  файла  с
              известными  аргументами; аргументы eexxeeccll - это
              строки символов, обозначающие файл и его аргу-
              менты; первый аргумент - это, как правило, имя
              файла (или его последняя  компонента).   Аргу-
              мент 0 завершает список аргументов.

       eexxeeccvv  Используется, если  число  аргументов  заранее
              неизвестно;  аргументами  eexxeeccvv  являются  имя
              файла и вектор  строк,  содержащих  аргументы.
              После последней строки-аргумента должен следо-
              вать нулевой указатель.

       При выполнении Си-программы она вызывается так:

       mmaaiinn(_a_r_g_c, _a_r_g_v, _e_n_v_p)
       iinntt _a_r_g_c;
       cchhaarr **_a_r_g_v, **_e_n_v_p;

       где _a_r_g_c - это число аргументов, а _a_r_g_v - это  массив
       символьных  указателей  на  сами аргументы.  Как было


                            -1-                     ДЕМОС/PV


EXECL(3)        ДЕМОС. Библиотечные функции         EXECL(3)


       сказано, _a_r_g_c есть по крайней мере единица, и  первый
       элемент  массива  указывает на строку, содержащую имя
       файла.

       Параметр _a_r_g_v может быть непосредственно  использован
       следующим вызовом eexxeeccvv, так как _a_r_g_v[_a_r_g_c] есть 0.

       Параметр _e_n_v_p -  это  массив  указателей  на  строки,
       которые  определяют  "среду" процесса.  Каждая строка
       состоит из имени, знака "=" и значения,  оканчивающе-
       гося  нулевым  байтом.  Массив указателей завершается
       нулевым указателем.  Интерпретаторы командного  языка
       _s_h(1)  и  _c_s_h(1) передают среду для каждой глобальной
       переменной, определенной к моменту вызова  программы.
       Некоторые   часто  употребляемые  имена  приведены  в
       _e_n_v_i_r_o_n(7).  Вызывающая программа помещает копию _e_n_v_p
       в  глобальную пременную eennvviirroonn, которая используется
       вызовами eexxeeccvv и eexxeeccll для передачи значений перемен-
       ных  среды  всем  программам,  запускаемым работающей
       программой.

       Подпрограммы eexxeeccllpp и eexxeeccvvpp вызываются с  такими  же
       аргументами, как eexxeeccll и eexxeeccvv, но повторяют действия
       интерпретатора командного языка по поиску выполнимого
       файла  в  списке каталогов.  Список каталогов выбира-
       ется из макропеременной среды PPAATTHH.

ФФААЙЙЛЛЫЫ
       /_b_i_n/_s_h      вызывается для командных файлов

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_s_h(1), _e_x_e_c_v_e(2), _f_o_r_k(2), _v_f_o_r_k(2), _e_n_v_i_r_o_n(7)

ДДИИААГГННООССТТИИККАА
       Возврат из описанных  подпрограмм  может  происходить
       только при следующих аварийных ситуациях:

              файл нельзя найти;

              задан невыполнимый файл;

              файл не начинается с  правильного  магического
              числа (см.  _a._o_u_t(5)),

              превышен максимальный объем памяти;

              аргументы занимают слишком много места.

       Возвращаемое значение равно -1.

ЗЗААММЕЕЧЧААННИИЯЯ
       Если  eexxeeccvvpp  вызывается  для  выполнения  командного
       файла,  а  вызвать sshh невозможно, значения _a_r_g_v [0] и
       _a_r_g_v [-1] изменятся перед возвратом.






                            -2-                     ДЕМОС/PV

