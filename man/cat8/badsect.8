
BADSECT(8)      ДЕМОС. Сопровождение системы      BADSECT(8)


ИИММЯЯ
        bbaaddsseecctt - создать файл дефектных блоков.

ФФООРРММААТТ
        //eettcc//bbaaddsseecctt _н_о_м_е_р...

ООППИИССААННИИЕЕ
        Команда bbaaddsseecctt позволяет "исключить"  из  обращения
        дефектные блоки путем объединения их в особые файлы.
        Обычно дефектные блоки отбраковываются на этапе соз-
        дания  файловой  системы  на  диске (см.  _n_e_w_f_s(8)).
        Команда bbaaddsseecctt позволяет в случае крайней необходи-
        мости  отбраковать плохие блоки в уже созданной фай-
        ловой системе.

        Команда bbaaddsseecctt используется следующим образом.  Для
        отбраковки плохих блоков необходимо в корневом ката-
        логе файловой системы создать каталог с именем ._B_A_D,
        перейти в этот каталог и запустить команду bbaaddsseecctt с
        номерами плохих блоков.  Затем данную файловую  сис-
        тему необходимо размонтировать и обработать командой
        _f_s_c_k(8).  В результате работы команды bbaaddsseecctt  неко-
        торые блоки могут присутствовать одновременно в двух
        файлах.  В этом случае  требуется  удалить  одну  из
        ссылок,  оставив  ту,  которая  относится к каталогу
        ._B_A_D.  Для этой цели используется команда _f_s_c_k(8).

        Для  создания  файла,  содержащего  дефектный   блок
        используется системный вызов _m_k_n_o_d(2).  В результате
        появляется специальный файл с  именем  _N,  где  _N  -
        номер дефектного блока.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _f_s_c_k(8), _n_e_w_f_s(8), _t_s_t_d_e_v(8)

ЗЗААММЕЕЧЧААННИИЯЯ
        С помощью команды bbaaddsseecctt нельзя исключать из  обра-
        щения  блоки, в которых располагается каталог файло-
        вой системы (i-список), в подобном  случае  выдается
        соответствующая диагностика.

        Не рекомендуется копировать с помощью команды  _d_d(1)
        (или аналогичных системно-независимых средств) диск,
        на котором располагаются файловые системы с  файлами
        дефектных блоков.

        Следует учитывать,  в  команде  bbaaddsseecctt  указываются
        номера  блоков  по 512 байт, т.е. те номера, которые
        выдаются   диагностиками   системы   или    командой
        _t_s_t_d_e_v(8).

        Если у вас номера плохих блоков идут подряд, то пару
        четный-нечетный  надо указывать одним номером (любым
        из двух).






                            -1-

