
MONITOR(3)      ДЕМОС. Библиотечные функции       MONITOR(3)


ИИММЯЯ
       mmoonniittoorr - управление сбором статистики о процессе.

ФФООРРММААТТ
       mmoonniittoorr(_l_o_w_p_c, _h_i_g_h_p_c, _b_u_f_f_e_r, _b_u_f_s_i_z_e, _n_f_u_n_c)
       iinntt (*_l_o_w_p_c)(), (*_h_i_g_h_p_c)();
       sshhoorrtt _b_u_f_f_e_r[];

ООППИИССААННИИЕЕ
       Выполняемая    программа,    странслированная     Си-
       компилятором  с  ключом  --pp, автоматически включает в
       себя обращения к программе  mmoonniittoorr  без  параметров.
       Непосредственный вызов mmoonniittoorr требуется только в том
       случае, если необходимо более сложное управление сбо-
       ром статистики о командах процесса.

       Программа mmoonniittoorr представляет собой интерфейс к _p_r_o_-
       _f_i_l(2):  параметры  _l_o_w_p_c  и _h_i_g_h_p_c являются адресами
       верхней  и  нижней  границ  области   профилирования;
       _b_u_f_f_e_r  -  это  адрес  массива целых чисел типа sshhoorrtt
       размером в _b_u_f_s_i_z_e.  Программа mmoonniittoorr строит гистог-
       рамму  периодически  используемых  значений  счетчика
       команд и подсчитывает число обращений к  определенным
       функциям; результаты записываются в _b_u_f_f_e_r.  Диапазон
       адресов команд, к которым  осуществляется  обращение,
       лежит  в  пределах  от  _l_o_w_p_c до _h_i_g_h_p_c.  Максимально
       допустимое число обращений  к  каждой  команде  равно
       _n_f_u_n_c;  подсчитываются  вызовы только команд, находя-
       щихся в модулях, которые были скомпилированы с ключем
       --pp  Си-компилятора.  Для  того, чтобы результаты были
       значимыми  (особенно  если  мало   достаточно   часто
       используемых команд), размер буфера должен быть в три
       раза меньше диапазона адресов исследуемых команд.

       Для сбора статистической информации о выполнении всей
       программы mmoonniittoorr вызывается следующим образом:

       eexxtteerrnn eetteexxtt;
       mmoonniittoorr((iinntt *)2,eetteexxtt,_b_u_f,_b_u_f_s_i_z_e,_n_f_u_n_c);

       (eetteexxtt содержит адрес последней ячейки программы уве-
       личенный на 1).

       Для прекращения сбора статистики и записи результатов
       в файл _m_o_n._o_u_t выполняется вызов вида:

              mmoonniittoorr(0)

       Для исследования полученных  результатов  можно  вос-
       пользоваться командой _p_r_o_f(1).

ФФААЙЙЛЛЫЫ
       _m_o_n._o_u_t

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _p_r_o_f(1), _p_r_o_f_i_l(2), _c_c(1)




                            -1-                      ДЕМОС/P

