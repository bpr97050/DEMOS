
CLOSE(2)          ДЕМОС. Системные вызовы           CLOSE(2)


ИИММЯЯ
       cclloossee - закрыть файл.

ФФООРРММААТТ
       _a_n_s = cclloossee( _f_d )
       iinntt _f_d;

ООППИИССААННИИЕЕ
       Системный вызов cclloossee удаляет дескриптор _f_d  из  таб-
       лицы дескрипторов открытых файлов процесса. Если уда-
       ленный дескриптор был последним ссылающимся на данный
       файл,  то весь контекст работы с файлом теряется. При
       завершении процесса все открытые им файлы закрываются
       автоматически.

       Данный системный вызов  может  оказаться  необходимым
       для  программ,  работающих с большим количеством фай-
       лов, так как число одновременно открытых файлов огра-
       ничено (обычно 20).

       При порождении нового процесса (ffoorrkk) все  его  деск-
       рипторы указывают на те же объекты, что и дескрипторы
       процесса-предка.  После выполнения вызова _e_x_e_c_v_e(2) в
       порожденном  процессе новая программа также наследует
       все активные дескрипторы.  Для  того,  чтобы  сделать
       недоступными  новой  программе  уже  открытые  файлы,
       соответствующие дескрипторы  можно  переопределить  с
       помощью  _d_u_p(2)  или удалить с помощью cclloossee.  Однако
       бывают ситуации, в которых уже открытые  файлы  могут
       потребоваться  при  неудачном  завершении  системного
       вызова _e_x_e_c_v_e(2).  В таких случаях применение  вызова
       FFIIOOCCLLEEXX в _i_o_c_t_l(2) обеспечивает закрытие определенных
       файлов после успешного старта новой программы.

ЗЗННААЧЧЕЕННИИЕЕ
       В случае успешного завершения системный  вызов  cclloossee
       возвращает  значение  0,  иначе  -  значение -1 и код
       ошибки в переменной eerrrrnnoo.

ККООДДЫЫ ООШШИИББООКК
       [[EEBBAADDFF]]     Указанный дескриптор не является дескрип-
                   тором открытого файла.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _o_p_e_n(2), _p_i_p_e(2), _e_x_e_c_v_e(2), _c_r_e_a_t(2), _i_o_c_t_l(2)















                            -1-                     ДЕМОС/PV

