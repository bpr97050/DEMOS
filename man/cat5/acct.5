
ACCT(5)            ДЕМОС. Форматы данных             ACCT(5)


ИИММЯЯ
        aacccctt - формат файла системной статистики.

ФФООРРММААТТ
        #iinncclluuddee <_s_y_s/_t_y_p_e_s._h>
        #iinncclluuddee <_s_y_s/_a_c_c_t._h>

ООППИИССААННИИЕЕ
        После  включения  режима   сбора   статистики   (см.
        _a_c_c_t(2))   в  учетный  файл  записывается  следующая
        информация о каждом завершившемся процессе:

        ssttrruucctt  aacccctt {
           cchhaarr   aacc__ccoommmm[10]; /* Имя команды */
                             /* Затраты времени */
           ccoommpp__tt aacc__uuttiimmee;  /* в режиме пользователя */
           ccoommpp__tt aacc__ssttiimmee;  /* в режиме системы */
           ccoommpp__tt aacc__eettiimmee;  /* Полное время работы */
           ttiimmee__tt aacc__bbttiimmee;  /* Время старта */
           sshhoorrtt  aacc__uuiidd;    /* ID пользователя */
           sshhoorrtt  aacc__ggiidd;    /* ID группы */
           sshhoorrtt  aacc__mmeemm;    /* Использованная память */
           ccoommpp__tt aacc__iioo;     /* Число обменов с диском */
           ddeevv__tt  aacc__ttttyy;    /* Управляющий терминал */
           cchhaarr   aacc__ffllaagg;   /* Режим работы */
        #iiffddeeff  UUCCBB__LLOOGGIINN
           cchhaarr   aacc__ccrrnn[4]; /* Номер задания (_l_o_g_i_n(2))*/
           sshhoorrtt  aacc__mmaaggiicc;  /* 052525 */
        #eennddiiff
        };

        /* Значения поля aacc__ffllaagg */
        #ddeeffiinnee AAFFOORRKK 01  /* Был ffoorrkk, но не было eexxeecc */
        #ddeeffiinnee AASSUU   02  /* Привилегированный процесс */
        #ddeeffiinnee AASSUUBBMM 04  /* Независимый процесс (ssuubbmmiitt)*/

        Тип ccoommpp__tt предназначен для  упаковки  в  16-битовое
        поле  чисел в "псевдовещественном" формате следующим
        образом: старшие три бита представляют собой  харак-
        теристику числа (по основанию 8), а младшие 13 битов
        - мантиссу.  (Таким образом представлены _ц_е_л_ы_е, а не
        вещественные числа!)

        Формула для расчета истинного значения по  упакован-
        ному:

                (lloonngg)(_x&017777) << (3*((_x>>13)&07))

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _a_c_c_t(2), _s_a(8)










                            -1-                      ДЕМОС/P

