
            дддд   ееееее   м     м    oooo     сссс
           д   д   е        мм   мм   o    o   с    с
          д    д   е        м м м м   o    o   с    с
          д    д   еееее    м  м  м   o    o   с
          д    д   е        м     м   o    o   с
          д    д   е        м     м   o    o   с    с
         дддддддд  ееееее   м     м    oooo     сссс



          демосдемосдемосдемосдемосдемосдемосдемосде
          емосдемосдемосдемосдемосдемосдемосдемосдем
          мо                                      мо
          ос                                      ос
          сд        ОПЕРАЦИОННАЯ СИСТЕМА          сд
          де                                      де
          ем               ДЕМОС                  ем
          мо                                      мо
          ос                                      ос
          сд                                      сд
          де             Версия 1.0               де
          ем                                      ем
          мо                                      мо
          сдемосдемосдемосдемосдемосдемосдемосдемосд
          демосдемосдемосдемосдемосдемосдемосдемосде







                    КОНТРОЛЬНЫЙ ПРИМЕР







                СИМОНОВ С.А.












                       МОСКВА - 1985









                                                           1










   Документ содержит описание  контрольного  примера,  пред-
назначенного  для  проверки  работоспособности  операционной
системы ДЕМОС.



















































2





       1. ХАРАКТЕРИСТИКИ ПРОВЕРЯЕМЫХ ФУНКЦИЙ ОС ДЕМОС


   Для исследования  функционирования  операционной  системы
ДЕМОС  используется  восемь  контрольных задач. С их помощью
осуществляют проверку:

   1) файловой структуры системных дисков;

   2) соответствия дистрибутива эталону;

   3) работы средств организации  конвейеров  интерпретатора
      команд SHELL;

   4) работы процессов в фоновом режиме;

   5) работоспособности компилятора языка Си (cc);

   6) работоспособности интерпретатора языка BASIC (bas);

   7) работоспособности компилятора языка ФОРТРАН-4 (fc);

   8) работоспособности редактора ED.

   Для запуска  контрольного  примера  необходимо  выполнить
следующие действия:

   - восстановить системные диски с дистрибутивной  ленты  и
     загрузить  операционную систему ДЕМОС (см. "Руководство
     системного программиста");

   - зарегистрироваться в системе с именем "test";

   - включить устройство печати;

   - запустить контрольный пример с помощью команды:

                          run_test



   1.1. Структура контрольного примера


   Все файлы контрольного примера расположены в  справочнике
"/usr/test", к ним относятся:

run_test
     модуль запуска контрольного примера и ведения протокола
     его выполнения;

main головной модуль контрольного примера. Этот  модуль  вы-
     водит  сообщение  о начале выполнения контрольного при-
     мера, запускает поочередно контрольные задачи и  завер-
     шает  работу  контрольного примера выдачей сообщения об
     успешном  или  неуспешном  его  выполнении.  Выполнение
     каждой контрольной задачи состоит из следующих шагов:



                                                           3


      - вывод сообщения "Начало контрольной задачи n";

      - выполнение контрольной задачи;

      - вывод сообщения  о  результатах  работы  контрольной
        задачи;

      - вывод сообщения "Конец контрольной задачи n".

     Неуспешное завершение хотя бы одной контрольной  задачи
     приводит  к  неуспешному  завершению всего контрольного
     примера.

t1,...,t8
     контрольные задачи;

printend
     модуль вывода сообщения об итогах выполнения  контроль-
     ного примера;

teхt, done_std
     файлы для контрольной задачи  #7  (проверка  работоспо-
     собности редактора ED);

ctest.c
     контрольная программа  для  проверки  работоспособности
     Си-компилятора (cc);

btest.b
     контрольная задача для проверки  работоспособности  ин-
     терпретатора языка BASIC (bas);

f4 test1.f, f4 test2.f
     модули контрольной задачи  для  проверки  работоспособ-
     ности компилятора ФОРТРАН-4 (fc);

list_std
     эталонный список  файлов  из  корневого  справочника  и
     справочников "/bin", "/usr/bin" и "/etc";

hdr  текст сообщения о начале контрольного примера.

   Модули "run_test", "main", "t1,...t7"  и  "printend"  ре-
ализованы на языке интерпретатора команд SHELL. В результате
работы контрольного примера в справочнике "/test"  создается
файл "протокол".

   Минимальная конфигурация вычислительного  комплекса,  не-
обходимая  для выполнения контрольного примера, должна вклю-
чать:

   - процессор,  оснащенный  аппаратурой  диспетчера  памяти
     (возможно  использование процессоров СМ 2104 (СМ-4), СМ
     2420 (СМ 1420), СМ 2406 (СМ 1600), ЭЛЕКТРОНИКА  100/25,
     ЭЛЕКТРОНИКА 79);

   - оперативную память об'емом не менее 64К слов;

   - один  из  накопителей  на  магнитных  дисках:   СМ 5400
     (ИЗОТ-1370), СМ 5408 или СМ 5407;



4


   - консольный  терминал  одного  из  перечисленных  типов:
     ЭЛЕКТРОНИКА    15ИЭ-00-013,   VIDEOTON-340   (СМ 7206),
     ВТА 2000-1,   ВТА 2000-2,   ВТА 2000-3,    ВТА 2000-15,
     ВТА 2000-30,     VDT-52100,    VDT-52106,    VDT-52129,
     ЭЛЕКТРОНИКА 15ИЭ-00-013, ЭЛЕКТРОНИКА МС 7401;

   - одно  из  печатающих  устройств:   СМ 6302   (DZM-180),
     СМ 6315 (АЦПУ) или СМ6900 (DARO-1154).

   Контрольная задача #1 определяет число занятых и  свобод-
ных блоков на системном диске с помощью команды:

                             df

На терминал выводятся:

   - имя  специального  файла,  соответствующего  системному
     диску;

   - общее число блоков на устройстве;

   - число занятых блоков;

   - число свободных блоков;

   - процент использования дискового пространства.


   1.2. Контрольная задача #2


   Контрольная  задача  #2  проверяет  соответствие  состава
дистрибутива эталону. Проверяется наличие необходимых файлов
в корневом справочнике и справочниках "/bin",  "/usr/bin"  и
"/etc".  Список  файлов,  находящихся  в  этих справочниках,
сравнивается с эталонным, содержащимся в  файле  "list_std".
По результатам проверки выдается соответствующее сообщение.

   Контрольная  задача  #3  осуществляет   проверку   работы
средств организации конвейера интерпретатора команд SHELL. С
помощью команды:

                           ls -l

создается список файлов в корневом справочнике и  справочни-
ках  "/bin", "/usr/bin" и "/etc". Полученный список дублиру-
ется командой:

                          tee list

в файл  "list",  в  нем  отыскиваются  файлы,  принадлежащие
пользователю  "bin"  (grep  'bin'),  и   общее  число файлов
подсчитывается командой:

                           wc -l


   Контрольная задача #4 осуществляет проверку  работы  про-
цессов  в  фоновом режиме. В данной контрольной задаче в фо-




                                                           5


новом режиме с низким приоритетом выполняется команда:

                            list

распечатывающая на АЦПУ список файлов. Состояние процессов в
текущий момент времени отображается на терминал командой:

                           ps -ax

Выполнение контрольной задачи #4 завершается  после  оконча-
тельной распечатки файла "list".

   Контрольная задача  #5  проверяет  работоспособность  Си-
компилятора  "cc".  Проверка производится путем компиляции и
выполнения  программы  "ctest.c".  Эта  программа  вычисляет
длину  окружности радиусом 1.50; выводит результат на терми-
нал и выдает сообщение о своем завершении.  Компиляция  про-
изводится  с  ключом  "-f",  который  обеспечивает  эмуляцию
команд процессора плавающей  арифметики,  отсутствующего  на
СМ-4.  Успешная  работа  программы "ctest.c" свидетельствует
также о правильной работе компилятора ассемблера "as" и  ре-
дактора связей "ld". С помощью команды:

                            time

измеряется общее время компиляции, ассемблирования и  редак-
тирования  связей.  Общее  пультовое время должно быть около
30-45 секунд.

   Контрольная задача #6  осуществляет  проверку  работоспо-
собности  интерпретатора  языка  BASIC  "bas". Проверка осу-
ществляется путем выполнения программы "btest.b". Эта  прог-
рамма   вычисляет  12  значений  тригонометрических  функций
sin(x) и соs(х) для значений аргумента в интервале от  0  до
2-х  пи.  Полученные значения распечатываются на терминале в
виде таблицы.

   Контрольная задача #7 проверяет работоспособность  компи-
лятора  ФОРТРАН-4 "fc". Проверка осуществляется путем компи-
ляции и выполнения контрольной программы, вычисляющей  об'ем
правильного  многогранника.  В  качестве параметров задаются
числа граней и длина ребра, в контрольной задаче - 6 и  2000
соответственно.

   Контрольная программа  состоит  из  двух  модулей  -  "f4
test1.f" и "f4 test2.f".

   Контрольная задача #8 проверяет работоспособность  редак-
тора  текстов ED. Проверка производится путем редактирования
файла "text" и сравнения результатов редактирования  с  эта-
лонным  файлом  "done_std".  Задачей редактирования является
замена всех слов, состоящих только из английских букв на  те
же  слова, но заключенные в кавычки. На экран выводится файл
"text" и его отредактированный вариант.

   Входными данными для операционной системы ДЕМОС  при  вы-
полнении   контрольного  примера  служат  команды,  вводимые
пользователем с терминала.

   Выходными данными  при  выполнении  контрольного  примера
являются  диагностические  сообщения,  выдаваемые  на  экран


6


дисплея, и протокол работы  контрольного  примера,  распеча-
танный на АЦПУ.





























































                                                           7




                         СОДЕРЖАНИЕ



1.  ХАРАКТЕРИСТИКИ ПРОВЕРЯЕМЫХ ФУНКЦИЙ ОС ДЕМОС........    3
    1.1. Структура контрольного примера................    3
    1.2. Контрольная задача #2.........................    5






















































8


