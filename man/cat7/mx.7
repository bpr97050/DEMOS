
MX(7)                ДЕМОС. Макропакеты                MX(7)


ИИММЯЯ
        mmxx - команды для подготовки документов.

ФФООРРММААТТ
        mmxx [_к_л_ю_ч_и] _ф_а_й_л_ы

ООППИИССААННИИЕЕ
        Этот макропакет предназначен для совместного исполь-
        зования  с  системой  подготовки документации nnrrooffff.
        Он состоит из набора макроопределений, предназначен-
        ных  для подготовки несложных документов в различных
        форматах.  Пакет  mmxx  не  поддерживает  переключения
        шрифтов и вывод в несколько колонок.

        В описании используются обозначения:

                _L_B   -  означает  двухсимвольную  метку,  на
                        которую  можно ссылаться в последую-
                        щем тексте документа (то есть  после
                        ее  определения).  Ссылка вида \\**((_L_B
                        обычно ссылается на личное  свойство
                        директивы,  например,  на номер раз-
                        дела для раздела, а \\nn((_L_B - на номер
                        страницы.

                _T_E_X_T -  некоторый текст. При наличии  в  нем
                        пробелов   заключается   в  кавычки.
                        Кавычки в внутри _T_E_X_T удваиваются.

                _N    -  число.

                _A    -  аргументы  директивы  будут  описаны
                        отдельно.

                [_A]  -  аргумент не является обязательным.

                [_A_1 [_A_2]] -
                        Второй аргумент может использоваться
                        только при наличии первого.  (Пустой
                        аргумент   директивы    обозначается
                        парой кавычек).

        ААббззааццыы

        llpp [_N]    Абзац с отступом _N.

        pppp        Абзац с красной строки.

        qqpp [_A]    Абзац - примечание. Допускаются аргументы:
                  ++  -  печатать  слово  _П_р_и_м_е_ч_а_н_и_е,  -- - не
                  делать абзацный отступ.

        iipp [_T_E_X_T [_N]]
                  Абзац с ключом _T_E_X_T.   Второй  аргумент  -
                  запоминаемый  под ключ отступ.  Существует
                  в форме jjpp - после  ключа  ставить  символ
                  _т_и_р_е.



                            -1-                     ДЕМОС/PV


MX(7)                ДЕМОС. Макропакеты                MX(7)


        nnpp [_L_B [_A]]
                  Нумерованный абзац. _A - символ, отделяющий
                  номер от текста.

        bbaa [_A]    Директива   установки   отступа    абзацев
                  (базы).  Может иметь аргументы: ++ - увели-
                  чение на стандартный отступ; ++++ - увеличе-
                  ние на 2 стандартных отступа; _ц_и_ф_р_а - уве-
                  личение на это число позиций;  --  или  без
                  аргумента  -  возврат  в  предыдущее;  00 -
                  сброс базы в 0.  Глубина вложенности - 3.

        Все директивы абзацев (ll, pp, qq, ii, jj, nn)  пропускают
        перед выводом число строк в соответствии к ключом --vv
        команды _m_x(1).  При замене второй буквы в имени с  pp
        на qq пропуска не производится.

        ССннооссккии

        ff++ [_A]   Начало абзацной сноски.  Аргумент _A -  сли-
                 тый  с  указателем  сноски знак препинания.
                 Сноска завершается командой ff--.  Существует
                 в  краткой  форме  ff== с первым аргументом -
                 текстом сноски, а вторым - слитым со знаком
                 препинания.

        ББллооккии

        (( [_A]    Начало блока. Допускаются аргументы: ll - не
                 делать дополнительный отступ, LL - игнориро-
                 вать текущую базу.  Блок завершается дирек-
                 тивой  )) [cc], где аргумент cc требует непре-
                 рывности блока.  Блок не  нарушает  текущих
                 условий форматирования.

        || _T_E_X_T   Краткая форма выровненного  по  левой  базе
                 блока  размером  в одну строку.  _T_E_X_T может
                 включать до 9 слов.

        {{        Начало   плавающего   блока,   завершаемого
                 директивой }}.

        [[ [_L_B]   В данном случае  первая  квадратная  скобка
                 есть  название  директивы  формула. Обычное
                 использование имеет вид:

                          ..[[ _A_A
                          dx
                          -- = 10w \\\\**ff
                          dt
                          ..]]

        Внутри блоков разрешается использовать директивы  cc++
        - начать центрировать строки, cc-- - закончить центри-
        ровать строки и cc= _T_E_X_T - сцентрировать строку _T_E_X_T.

        С  известной  осторожностью  внутри   блоков   можно
        использовать  некоторые директивы системы nnrrooffff типа


                            -2-                     ДЕМОС/PV


MX(7)                ДЕМОС. Макропакеты                MX(7)


        iinn, ttii, ffii, nnff, ttll, ttaa.

        В любом месте текста можно применять директивы: uu++ -
        начать подчеркивать строки, uu-- - закончить подчерки-
        вать строки, uu= _T_E_X_T - подчеркнуть строку _T_E_X_T.

        РРааззддееллыы

        ss00 _T_E_X_T   Раздел без номера.

        sshh _T_E_X_T   Аналог ss00 со словом _Г_Л_А_В_А и римской  нуме-
                  рацией.   Подразумевает дальнейшее дробле-
                  ние на ss11.  Для дробления на ss22 необходимо
                  после   каждой   директивы   sshh  выполнять
                  команду ..nnrr ss11 \\nn((_s_h.

        ss11 _T_E_X_T [_L_B]
                  Раздел  первого  уровня  нумерации.  Соот-
                  ветственно есть _s_2, _s_3 и _s_4.

        zz11 [_L_B]   Набор "zz11...zz55" служит для дробления доку-
                  мента  ниже  уровня  "ss00...ss44"  без  сбора
                  содержания.  По своим свойствам эти дирек-
                  тивы  похожи на абзац, но продолжают нуме-
                  рацию разделов.

        ССттррууккттуурраа ддооккууммееннттаа

        eess [_A]  Титульный лист начинается с директивы  eess  с
                аргументом  -  регистрационным номером доку-
                мента.   Завершается  директивой  ppdd.    При
                наличии  у  директивы ppdd аргумента + в конце
                аннотации допечатывается статистика по доку-
                менту.

        По своим режимам  форматирования  аналогичен  блоку.
        При наличии аннотации используется сочетание eess, aann,
        ppdd.  Место между aann и ppdd по своим режимам форматиро-
        вания аналогично абзацу.

        Существует специальная директива ttoo _A  для  пропуска
        строк на титульном листе.  _A - принимает значение от
        1 до 11 -  номер  1/12  части  титульного  листа  по
        высоте.   Без  аргумента  соответствует установке на
        предпредпоследнюю строку листа.

        Макет титульного  листа  можно  получить,  используя
        команду _m_x_s_i_x(1).

        РРааззннооее

        bboo _T_E_X_T [_L_B]
                Описание книжки.  Первый аргумент  -  назва-
                ние,  автор  и  т.д.   Ссылка  на метку дает
                номер в библиографии.

        gg= _T_E_X_T [_L_B]
                Слово  _T_E_X_T  появится  в  списке   терминов.


                            -3-                     ДЕМОС/PV


MX(7)                ДЕМОС. Макропакеты                MX(7)


                Использование  в дальнейшем тексте директивы
                gg++ _L_B добавит к слову  номер  текущей  стра-
                ницы.

        ppff _T_E_X_T [_L_B]
                Название рисунка.

        tthh _T_E_X_T [_L_B]
                Название таблицы.

        llbb _L_B   Запомнить страницу.

        hhll [_A_1 [_A_2]]
                Провести горизонтальную  линию  от  базы  до
                конца листа.  Может иметь один/два аргумента
                - от какой позиции по какую (то есть игнори-
                ровать базу и длину строки).

        ssii      Вместе с sskk и sspp - пропуск строк.   SSpp  про-
                пускает  одну или _а_р_г_у_м_е_н_т строк если в дан-
                ном месте mmxx  разрешает  пропускать  строки.
                SSkk работает аналогично, но пропускает всегда
                (но не далее начала очередного  листа).   SSii
                пропускает _а_р_г_у_м_е_н_т строк, если лист большой
                длины и ничего, если - маленькой.  Для выде-
                ления  текста пустыми строками рекомендуется
                использовать ssii без аргумента - то есть одна
                или ни одной строки (в соответствии с ключом
                --vv команды _m_x(1)).

ППРРИИММЕЕРРЫЫ
         ..bboo "NROFF - система подготовки документации" _P_I
         (текст, полученный командой mmxxssiixx -ttttll НАЗВАНИЕ)
         ..ss00 "ВВЕДЕНИЕ" _I_N
         ..ss11 "Общие принципы" _A_L
         ..zz22
         Как видно из [\\**((_P_I], использование ...
         ..ss11 "Использование"
         Как было показано в разделе \\**((_A_L
         на стр. \\nn((_A_L, использование команды
         .| mx -m file
         позволяет ...

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _m_x(1), _n_r_o_f_f(1).

        Имеется отдельный документ по mmxx.

ЗЗААММЕЕЧЧААННИИЯЯ
        Директивы nnrrooffff вне блоков  лучше  не  использовать.
        Особенно опасно это в сочетании с режимами --uu и --EESS.

        Лидирующие апострофы mmxx преобразует в точки.

        Внутри блоков нельзя использовать абзацы.





                            -4-                     ДЕМОС/PV

