
WAIT(2)           ДЕМОС. Системные вызовы            WAIT(2)


ИИММЯЯ
       wwaaiitt - ожидание завершения порожденного процесса.

ФФООРРММААТТ
       #iinncclluuddee <_s_y_s/_w_a_i_t._h>

       _p_i_d = wwaaiitt( &_w._w__s_t_a_t_u_s )
       iinntt _p_i_d;
       uunniioonn wwaaiitt *_w;

       _p_i_d = wwaaiitt22( &_w._w__s_t_a_t_u_s, _o_p_t_i_o_n_s )
       iinntt _p_i_d;
       uunniioonn wwaaiitt **_w;
       iinntt _o_p_t_i_o_n_s;

ООППИИССААННИИЕЕ
       Системный вызов wwaaiitt приостанавливает текущий процесс
       до  поступления  сигнала  или  завершения  одного  из
       порожденных им процессов.   При  успешном  завершении
       вызова  wwaaiitt, если значение параметра не равно 0, оно
       используется в  качестве  адреса  буфера,  в  который
       записывается статус завершения процесса-потомка.

       Структура wwaaiitt содержит следующие поля:

       ww__tteerrmmssiigg      содержит  номер  сигнала  (см.    _s_i_g_-
                      _n_a_l(2)),  вызвавшего  завершение  про-
                      цесса, или 0  -  в  случае  завершения
                      процесса системным вызовом eexxiitt.

       ww__ccoorreedduummpp     содержит  1  в   случае   дампирования
                      памяти процесса в файл _c_o_r_e.

       ww__rreettccooddee      Если  процесс   завершился   системным
                      вызовом eexxiitt, то это поле содержит код
                      возврата, указанный в этом вызове.

       ww__ssttooppvvaall      Если процесс был приостановлен,  а  не
                      завершен,  в этом поле содержится зна-
                      чение  WWSSTTOOPPPPEEDD  (только  при   вызове
                      wwaaiitt22).

       ww__ssttooppssiigg      Для приостановленного процесса  содер-
                      жит   номер  сигнала,  вызвавшего  его
                      остановку.

       Состояние порожденного  процесса  после  срабатывания
       системного  вызова  wwaaiitt22 можно определить при помощи
       функций от _w (реализованных как макроопределения):

       WWIIFFSSTTOOPPPPEEDD(_w)  - истина, если процесс был остановлен;

       WWIIFFSSIIGGNNAALLEEDD(_w) - истина, если процесс был убит сигна-
                      лом;

       WWIIFFEEXXIITTEEDD(_w)   - истина, если процесс завершен  вызо-
                      вом eexxiitt.



                            -1-                      ДЕМОС/P


WAIT(2)           ДЕМОС. Системные вызовы            WAIT(2)


       Вызов wwaaiitt22 позволяет получать информацию  о  состоя-
       ниях  порожденных  процессов, ожидая или не ожидая их
       завершения или остановки.   Параметр  _o_p_t_i_o_n_s  задает
       режим,  при  котором  происходит немедленный возврат,
       если ни один из потомков еще не завершился  (WWNNOOHHAANNGG)
       или все потомки приостановлены (WWUUNNTTRRAACCEEDD).

       В режиме WWNNOOHHAANNGG  системный  вызов  wwaaiitt22  возвращает
       значение  0,  если  ни один из потомков еще не завер-
       шился.

       Если порождающий процесс завершается, не ожидая своих
       потомков,  их  наследует  стартовый  процесс (имеющий
       идентификатор 1).

ЗЗННААЧЧЕЕННИИЕЕ
       При  нормальном  завершении  выдается   идентификатор
       завершившегося  процесса.  В случае ошибки - значение
       -1 и код ошибки в переменной eerrrrnnoo.

       Вызов wwaaiitt22 возвращает значение -1, если  у  процесса
       нет  потомков.  Значение 0 в режиме WWNNOOHHAANNGG означает,
       что все порожденные процессы существуют и активны.

ККООДДЫЫ ООШШИИББООКК
       Переменная eerrrrnnoo может принимать следующие значения:

       [[EECCHHIILLDD]]    Процесс не имеет потомков.

       [[EEFFAAUULLTT]]    Адрес  параметра  не  входит  в  адресное
                   пространство процесса.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _e_x_i_t(2), _s_i_g_s_y_s(2), _f_o_r_k(2)


























                            -2-                      ДЕМОС/P

