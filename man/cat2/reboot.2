
REBOOT(2)         ДЕМОС. Системные вызовы          REBOOT(2)


ИИММЯЯ
       rreebboooott - остановить или перевызвать систему.

ФФООРРММААТТ
       #iinncclluuddee <_s_y_s/_t_y_p_e_s._h>
       #iinncclluuddee <_s_y_s/_r_e_b_o_o_t._h>

       rreebboooott( _d_e_v, _h_o_w_t_o )
       ddeevv__tt _d_e_v;
       iinntt _h_o_w_t_o;

ООППИИССААННИИЕЕ
       Системный вызов rreebboooott вызывает остановку или переза-
       пуск  системы.   Система  обычно загружается из файла
       _d_e_m_o_s с устройства _d_e_v.  Устройство задается  минором
       и  мажором, которые можно получить при помощи систем-
       ного вызова _s_t_a_t(2).  Параметр _h_o_w_t_o определяет режим
       перезапуска  системы.   Собственно  сам  вызов rreebboooott
       отрабатывает  только  один  признак  (RRBB__HHAALLTT),   все
       остальные передаются программе загрузки системы bboooott.
       После перезапуска система автоматически  переходит  в
       многопользовательский режим работы.

       Параметр _h_o_w_t_o составляется путем логического  сложе-
       ния следующих признаков:

       RRBB__HHAALLTT
              Процессор останавливается, система не перезаг-
              ружается.

       RRBB__AASSKKNNAAMMEE
              На  консоли  запрашивается  имя  устройства  и
              файла, откуда нужно перезагрузить ядро ОС.

       RRBB__SSIINNGGLLEE
              Как уже говорилось, стандартно  после  перевы-
              зова система переходит в многопользовательский
              режим. Если задан  этот  признак,  то  система
              начинает  работу в однопользовательском режиме
              с консольного терминала.  Данный признак отра-
              батывается командой _i_n_i_t(8) уже после перезаг-
              рузки.

       RRBB__NNOOSSYYNNCC
              Не делать _s_y_n_c(2) перед перевызовом.

       RRBB__DDUUMMPP
              Записать образ системы в область подкачки.

       RRBB__NNOOFFSSCCKK
              При переходе в многопользовательский режим  не
              делать  контроля  корректности файловых систем
              (см.  _f_s_c_k(8)).

       Данный системный вызов доступен только для привилеги-
       рованных процессов.




                            -1-                      ДЕМОС/P


REBOOT(2)         ДЕМОС. Системные вызовы          REBOOT(2)


ЗЗННААЧЧЕЕННИИЕЕ
       Не бывает возврата из вызова rreebboooott при его  успешном
       выполнении.   При  возникновении  ошибки возвращается
       значение -1 и код ошибки в переменной eerrrrnnoo..

ККООДДЫЫ ООШШИИББООКК
       [[EEPPEERRMM]]     Процесс  работает  в  непривилегированном
                   режиме.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_r_a_s_h(8), _i_n_i_t(8), _r_e_b_o_o_t(8).

















































                            -2-                      ДЕМОС/P

