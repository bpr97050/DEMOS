
CPIO(1)                ДЕМОС. Команды                CPIO(1)


ИИММЯЯ
       cpio - копировать архив файлов в систему или из  сис-
       темы

ССИИННТТААККССИИСС
       ccppiioo --oo [aaccBBvv]
       ccppiioo --ii [BBccddmmrrttuuvvffssSSbb] [_о_б_р_а_з_ц_ы]
       ccppiioo --pp [aaddllmmrruuvv] _к_а_т_а_л_о_г

ООППИИССААННИИЕЕ
       ccppiioo --oo (режим вывода -- _c_o_p_y _o_u_t) читает стандартный
       ввод для получения списка имен файлов и копирует ука-
       занные файлы на стандартный  вывод  вместе  с  именем
       файла и служебной информацией.

       ccppiioo --ii (режим ввода -- _c_o_p_y _i_n) извлекает  файлы  со
       стандартного ввода, который по предположению является
       результатом выполнения команды ccppiioo  --oo.   Выбираются
       только  те  файлы, имена которых удовлетворяют одному
       из _о_б_р_а_з_ц_о_в.  _О_б_р_а_з_ц_ы задаются в виде используемом  в
       sshh(1).  В _о_б_р_а_з_ц_а_х метасимволы ??, ** и [[...]] сопостав-
       ляются также и с символом  косой  черты  (/).   Может
       быть  указано  несколько  _о_б_р_а_з_ц_о_в и, если _о_б_р_а_з_ц_ы не
       указаны совсем, то по умолчанию считается, что  задан
       _о_б_р_а_з_е_ц  ,  равный  **  (т.е. извлечение всех файлов).
       Извлекаемые файлы создаются и  копируются  в  текущее
       дерево  каталогов в соответствии с условиями, описан-
       ными ниже.  Режимы доступа файлов будут  соответство-
       вать  режимам,  записанным  ранее  с помощью ccppiioo --oo.
       Владельцем файла и его группой будет текущий  пользо-
       ватель с соответствующей группой.  Если текущий поль-
       зователь - суперпользователь, то _c_p_i_o сохраняет  вла-
       дельца  и  группу файла, которые были у него в момент
       выполнения ccppiioo --oo.

       ccppiioo --pp (режим перемещения - _p_a_s_s)  читает  со  стан-
       дартного  ввода  список  файлов, которые копируются в
       указанное дерево _к_а_т_а_л_о_г в соответствии  с  условиями
       режимов, описанными ниже.

       Доступные ключи имеют следующее значение:

       aa  Сбросить время последнего  обращения  для  входных
          файлов после того, как они были скопированы.

       BB  Ввод/вывод сблокирован по 5120  байтов  на  запись
          (не  применимо для режима _p_a_s_s; имеет смысл только
          когда ввод/вывод связан с магнитной лентой).

       dd  Создавать, при необходимости, требуемые каталоги.

       cc  Записывать заголовок  архива  в  символьной  форме
          (полезно  при  переносе на компьютеры другой архи-
          тектуры).

       rr  Интерактивно переименовывать файлы.  Если вводится
          пустая  строка,  то файл пропускается и не копиру-
          ется.


                            -1-                     ДЕМОС/PV


CPIO(1)                ДЕМОС. Команды                CPIO(1)


       tt  Выдать оглавление архива.  Файлы не создаются.

       uu  Копировать безусловно (обычно более старый файл не
          замещает более новый).

       vv  Выдать  список  имен  файлов.   Если  используется
          вместе с ключом tt, то выдаваемое оглавление стано-
          вится похожим на выдачу команды  llss  --ll  (смотрите
          _l_s(1)).

       ll  По возможности создавать ссылки на файл вместо его
          копирования.  Используется только для режима _p_a_s_s.

       mm  Восстановить время  последней  модификации  файла.
          Эта возможность бессмысленна для каталогов.

       ff  Копировать все файлы, за исключением совпадающих с
          _о_б_р_а_з_ц_а_м_и.

       ss  Переставлять  байты.   Используется   только   для
          режима _c_o_p_y _i_n.

       SS  Переставлять полуслова.  Используется  только  для
          режима _c_o_p_y _i_n.

       bb  Переставлять и байты  и  полуслова.   Используется
          только для режима _c_o_p_y _i_n.

ППРРИИММЕЕРРЫЫ
       Первый пример  копирует  файлы  текущего  каталога  в
       архив; второй пример дублирует иерархию каталогов:

               llss || ccppiioo --oo >> /_d_e_v/_m_t_0

               ccdd _o_l_d_d_i_r
               ffiinndd .. --ddeepptthh --pprriinntt || ccppiioo --ppddll _n_e_w_d_i_r

       Тривиальный случай
               ffiinndd .. --ddeepptthh --pprriinntt || ccppiioo --ooBB >> /_d_e_v/_r_m_t_0

       может быть обработан более эффективно командой:
               ffiinndd .. --ccppiioo /_d_e_v/_r_m_t_0

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _a_r(1), _f_i_n_d(1), _l_s(1), _c_p_i_o(5)

ЗЗААММЕЕЧЧААННИИЯЯ
       Имя файла не может превышать 128 символов.  При боль-
       шом  количестве  файлов  с несколькими ссылками прог-
       рамме не хватает памяти, и она  теряет  информацию  о
       ссылках.   Только  суперпользователь может копировать
       специальные файлы.  Программа ничего не знает о  сим-
       волических ссылках, но зато знает файлы типа FIFO.







                            -2-                     ДЕМОС/PV

