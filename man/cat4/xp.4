
XP(4)             ДЕМОС. Специальные файлы             XP(4)


ИИММЯЯ
        xxpp - пакетные диски СМ 5404 (ЕС 5067).

ООППИИССААННИИЕЕ
        Данный специальный файл позволяет  работать  с  уст-
        ройствами СМ 5404 и RP06 как с последовательным фай-
        лом.  Каждый пакет делится на несколько частей, каж-
        дая  из  которых  может  содержать файловую систему.
        Для определения номера части  используются  биты  07
        дополнительного  кода устройства. Биты 070 использу-
        ются для определения  номера  дисковода.   В  данном
        варианте системы физический диск распределяется сле-
        дующим образом:

        Имя части Длина(Кб)  Цилиндры Назначение
        _x_p?_a       2926      0-13     /
        _x_p?_b       2717      14-26    _s_w_a_p
        _x_p?_c      80256      27-410   ---
        _x_p?_d      84436      411-814  /_u_s_r (RP06)
        _x_p?_e      40128      27-218   /_u_s_r
        _x_p?_f      40128      219-410  польз. архив
        _x_p?_g      85899      0-410    полный пакет
        _x_p?_h     170335      0-814    полный пакет (RP06)

        Для данных  файлов  доступ  к  диску  осуществляется
        через  обычный  системный механизм буферизации, поэ-
        тому чтение или запись этих  файлов  не  зависит  от
        размера  физических  записей  на диске.  Кроме того,
        существует "прозрачный"  (rraaww)  режим  ввода/вывода,
        который обеспечивает непосредственную  передачу дан-
        ных между диском и принадлежащим пользователю  буфе-
        ром чтения или записи. Один вызов типа rreeaadd (чтение)
        или wwrriittee (запись) влечет за собой только одну  опе-
        рацию    физического    ввода/вывода.   "Прозрачный"
        ввод/вывод считается  более эффективным  в  случаях,
        когда единовременно передаются большие объемы инфор-
        мации.  Имена  файлов,  обеспечивающих  "прозрачный"
        режим ввода/вывода, начинаются с символов _r.

        При  работе  в  "прозрачном"  режиме  адрес   буфера
        ввода-вывода должен быть выровнен по границе слова.

ФФААЙЙЛЛЫЫ
        /_d_e_v/_x_p[0-7][_a-_h]
        /_d_e_v/_r_x_p[0-7][_a-_h]

ЗЗААММЕЕЧЧААННИИЯЯ
        При работе в "прозрачном"  режиме  системные  вызовы
        rreeaadd  и  wwrriittee  усекают заданное смещение в файле по
        границе 512-байтного блока.   Таким  образом,  прог-
        раммы,  которые, возможно, будут осуществлять доступ
        к устройствам "прозрачного" ввода/вывода  или  вызы-
        вать системные программы rreeaadd, wwrriittee и llsseeeekk, всегда
        должны оперировать блоками информации, кратными  512
        байтам.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _m_k_f_s(8), _n_e_w_f_s(8)


                            -1-                      ДЕМОС/P

