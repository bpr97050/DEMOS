
MSGS(1)                ДЕМОС. Команды                MSGS(1)


ИИММЯЯ
       mmssggss - рассылка и получение общесистемных сообщений.

ФФООРРММААТТ
       mmssggss [--ss] [--cc _ч_и_с_л_о] [--ffhhppqq] [_ч_и_с_л_о] [--_ч_и_с_л_о]

ООППИИССААННИИЕЕ
       Команда  mmssggss  используется  для  работы  с  журналом
       объявлений  о  системе.   Как правило, журнал ведется
       администратором или системным программистом и  служит
       для записи сообщений об изменениях в системе.

       Если команда mmssggss помещается в файл ._l_o_g_i_n (или ._p_r_o_-
       _f_i_l_e,  если  используется  //bbiinn//sshh), она вызывается в
       начале каждого сеанса  и  уведомляет  пользователя  о
       наличии  (или  отсутствии)  новых  для  него записей.
       Команда  mmssggss  выдает  заголовок  сообщения,  который
       содержит имя отправителя, дату, тему очередного сооб-
       щения, и ожидает ответа.   Дальнейшие  действия  mmssggss
       определяются командой, вводимой пользователем:

       yy или ВВКК
           Выдается содержимое сообщения.

       nn   Текущее сообщение пропускается, переход к следую-
           щему сообщению.

       --   Повторная выдача последнего сообщения.

       qq   Работа команды завершается. Если остались непрос-
           мотренные  сообщения,  информацию о них пользова-
           тель получит при следующем вызове mmssggss.

       ss[_н_о_м_е_р__с_о_о_б_щ_е_н_и_я] [_ф_а_й_л]
           Данное сообщение дописывается  в  указанный  _ф_а_й_л
           (если  такой файл отсутствует в текущем каталоге,
           он создается).  Если имя файла не задано, сообще-
           ние  дописывается в файл _M_e_s_s_a_g_e_s.  Если не задан
           _н_о_м_е_р__с_о_о_б_щ_е_н_и_я, дописывается текущее  сообщение.
           Команда ss приводит к дозаписи последнего просмот-
           ренного сообщения.

       mm[_н_о_м_е_р__с_о_о_б_щ_е_н_и_я]
           Данное сообщение копируется  во  временный  файл,
           который   передается   команде   обработки  почты
           mmaaiill(1).  Если _н_о_м_е_р__с_о_о_б_щ_е_н_и_я не задан,  переда-
           ется  текущее сообщение.  Команда mm передает пос-
           леднее просмотренное сообщение.

       Команда mmssggss записывает номер следующего сообщения  в
       файл ._m_s_g_s_r_c в регистрационном каталоге пользователя.
       В каталоге /_u_s_r/_m_s_g_s  хранится  набор  файлов,  имена
       которых являются (последовательными) номерами сообще-
       ний, которые они представляют.  Файл /_u_s_r/_m_s_g_s/_b_o_u_n_d_s
       указывает  нижний и верхний номера сообщений по кото-
       рым команда mmssggss может быстро определить, имеются  ли
       новые для данного пользователя сообщения.



                            -1-                      ДЕМОС/P


MSGS(1)                ДЕМОС. Команды                MSGS(1)


       Команда mmssggss управляется следующими ключами:

       --ss  Послать очередное сообщение. Команда mmssggss заводит
           нужный  файл  в  каталоге /_u_s_r/_m_s_g_s, корректирует
           файл /_u_s_r/_m_s_g_s/_b_o_u_n_d_s и считывает из файла  стан-
           дартного  ввода  тему сообщения и его содержимое.
           В качестве  темы  сообщения  используется  первая
           строка стандартного файла ввода.

       --cc [_ч_и_с_л_о]
           Уничтожить сообщения. В этом случае команда  mmssggss
           уничтожает все сообщения, которые были отправлены
           более заданного _ч_и_с_л_а дней назад.   Соответствую-
           щим   образом   корректируются   файлы   каталога
           /_u_s_r/_m_s_g_s.  Если аргумент _ч_и_с_л_о не задан, уничто-
           жаются  все  сообщения,  которые поступили ранее,
           чем неделю назад.

       --ff  Отменяет  печать  диагностики  _n_o  _m_e_s_s_a_g_e_s  (_н_е_т
           _с_о_о_б_щ_е_н_и_й) при отсутствии новых сообщений.

       --qq  Если имеются новые  сообщения,  печатается  _t_h_e_r_e
           _a_r_e  _n_e_w  _m_e_s_s_a_g_e_s  (_и_м_е_ю_т_с_я _н_о_в_ы_е _с_о_о_б_щ_е_н_и_я), но
           текст не выдается.

       --pp  Длинные  сообщения  выдаются  с  помощью  команды
           просмотра файлов (mmoorree).

       --hh  Выдаются только заголовки сообщений.

       _ч_и_с_л_о
           Выдача начинается с указанного, а не  со  следую-
           щего сообщения.

       -_ч_и_с_л_о
           Начинает с заданного _ч_и_с_л_а сообщений  до  сообще-
           ния, указанного в файле ._m_s_g_s_r_c данного пользова-
           теля.

       Во время работы с командой можно перейти к  просмотру
       любого заданного сообщения, печатая его номер в ответ
       на запрос mmssggss о том, что делать дальше.

ФФААЙЙЛЛЫЫ
       /_u_s_r/_m_s_g_s/*  файлы с сообщениями
       /._m_s_g_s_r_c     номер следующего сообщения

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _m_a_i_l(1), _m_o_r_e(1)

ЗЗААММЕЕЧЧААННИИЯЯ
       В настоящее время команда mmssggss  не  используется  (ее
       заменила  система  рассылки  сообщений  проектам, см.
       _p_m_c_s(1) и _m_a_i_l_x(1)) и оставлена для совместимости.






                            -2-                      ДЕМОС/P

