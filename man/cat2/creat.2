
CREAT(2)          ДЕМОС. Системные вызовы           CREAT(2)


ИИММЯЯ
       ccrreeaatt - создать файл.

ФФООРРММААТТ
       ccrreeaatt(_n_a_m_e, _m_o_d_e)
       cchhaarr **_n_a_m_e;
       iinntt  _m_o_d_e;

ООППИИССААННИИЕЕ
       Системный вызов ccrreeaatt создает новый файл  или  подго-
       тавливает  к повторной записи уже существующий файл с
       именем _n_a_m_e.  Если файл не существует, значение пара-
       метра _m_o_d_e используется для формирования режимов дос-
       тупа создаваемого файла, при этом учитывается  значе-
       ние  маски  режимов  доступа  текущего  процесса (см.
       _u_m_a_s_k(2)).  Значение _m_o_d_e составляется  по  правилам,
       описанным в _c_h_m_o_d(2).

       Если файл существует, его владелец  и  режим  доступа
       остаются прежними, а файл усекается до нулевой длины.

       Следует отметить, что создаваемый файл открывается на
       запись для текущего процесса независимо от устанавли-
       ваемого  значения  режима  доступа.    Это   свойство
       используется  программами, создающими временные файлы
       с режимом доступа, запрещающим  запись  всем.   Такой
       файл  может  использоваться  в  качестве семафора для
       синхронизации нескольких процессов, так как  "заново"
       создать этот файл из других процессов невозможно.

ЗЗННААЧЧЕЕННИИЕЕ
       При неудачном завершении ccrreeaatt возвращается  значение
       -1, в остальных случаях выдается дескриптор открытого
       файла (целое положительное число).

ККООДДЫЫ ООШШИИББООКК
       После неудачного завершения системного  вызова  ccrreeaatt
       переменная eerrrrnnoo может принимать следующие значения:

       [[EENNOOTTDDIIRR]]   Указанное имя содержит компоненту,  кото-
                   рая не является каталогом.

       [[EENNOOEENNTT]]    Задано слишком  длинное  или  пустое  имя
                   файла.   Указанный  файл  не  существует.
                   Какой-либо из каталогов, входящих  в  имя
                   файла, недоступен для просмотра.

       [[EELLOOOOPP]]     Число косвенных ссылок в указанном  имени
                   превышает  максимально  допустимое значе-
                   ние.

       [[EERROOFFSS]]     Попытка создания файла  в  файловой  сис-
                   теме, закрытой на запись.

       [[EETTXXTTBBSSYY]]   Попытка сократить длину  файла,  содержа-
                   щего  загрузочный  модуль реентерабельной
                   программы  (разделяемый  текстовый   сег-
                   мент),   которая   в   настоящей   момент


                            -1-                      ДЕМОС/P


CREAT(2)          ДЕМОС. Системные вызовы           CREAT(2)


                   выполняется.

       [[EEAACCCCEESS]]    Режим доступа указанного файла  не  соот-
                   ветствует запросу.

       [[EEFFAAUULLTT]]    Адреса аргументов системного вызова выхо-
                   дят  за границы памяти, доступной данному
                   процессу.

       [[EEIISSDDIIRR]]    Указанное имя файла является именем ката-
                   лога.

       [[EEMMFFIILLEE]]    Переполнилась  таблица  открытых   файлов
                   процесса.

       [[EENNXXIIOO]]     Указано имя специального файла, для кото-
                   рого нет соответствующего устройства.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _o_p_e_n(2), _w_r_i_t_e(2), _c_l_o_s_e(2), _u_m_a_s_k(2), _c_h_m_o_d(2)








































                            -2-                      ДЕМОС/P

