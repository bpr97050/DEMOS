
FSTAB(5)           ДЕМОС. Форматы данных            FSTAB(5)


ИИММЯЯ
        ffssttaabb - описание конфигурации файловых систем.

ФФООРРММААТТ
        #iinncclluuddee <_f_s_t_a_b._h>

ООППИИССААННИИЕЕ
        Файл /_e_t_c/_f_s_t_a_b содержит список стандартно  установ-
        ленных файловых систем. Он заполняется администрато-
        ром системы и используется многими командами системы
        только в информационных целях.

        Файл состоит из текстовых строк в коде КОИ-8. Каждая
        строка   описывает  одну  файловую  систему.  Строка
        делится на 5 полей, разделенных друг от друга симво-
        лом  `::'.   Следует отметить, что последовательность
        описания существенна, так  как  обычно  все  команды
        просматривают его последовательно.

        Для получения информации из файла /_e_t_c/_f_s_t_a_b следует
        использовать подпрограммы, описанные в _g_e_t_f_s_e_n_t(3x),
        которые выдают информацию о файловой системе в  виде
        следующей структуры:

        ssttrruucctt ffssttaabb {
            cchhaarr *ffss__ssppeecc;  /* устройство */
            cchhaarr *ffss__ffiillee;  /* монтировать к ... */
            cchhaarr *ffss__ttyyppee;  /* тип файловой системы */
            iinntt   ffss__ffrreeqq;  /* частота копирования */
            iinntt   ffss__ppaassssnnoo;/* номер прохода проверки */
        };

        /* Типы файловых систем */
        #ddeeffiinnee FFSSTTAABB__RRWW "rrww" /* чтение/запись */
        #ddeeffiinnee FFSSTTAABB__RROO "rroo" /* только чтение */
        #ddeeffiinnee FFSSTTAABB__RRQQ "rrqq" /* контроль */
        #ddeeffiinnee FFSSTTAABB__SSWW "ssww" /* устройство подкачки */
        #ddeeffiinnee FFSSTTAABB__XXXX "xxxx" /* игнорировать */

        где ffss__ssppeecc - первое, а  ffss__ppaassssnnoo,  соответственно,
        пятое поле записи о файловой системе.

        ffss__ssppeecc  Имя специального файла, использующегося для
                 доступа  к  устройству, на котором располо-
                 жена  данная  файловая  система.    Следует
                 отметить,  что  заданный  специальный  файл
                 должен поддерживать  буферизованный  обмен.
                 Имя  специального файла, реализующего проз-
                 рачный обмен с данным  устройством,  должно
                 получаться с помощью приставки _r к базовому
                 имени указанного файла.

        ffss__ffiillee  Полное имя каталога, на который монтируется
                 данная файловая система.

        ffss__ttyyppee  Режим работы с файловой  системой.  Система
                 различает пять режимов работы:



                            -1-                     ДЕМОС/PV


FSTAB(5)           ДЕМОС. Форматы данных            FSTAB(5)


                 FFSSTTAABB__RRWW Файловая система  монтируется  для
                          чтения и записи.

                 FFSSTTAABB__RROO Файловая    система    монтируется
                          только для чтения.

                 FFSSTTAABB__RRQQ В ДЕМОС 2.1 на  16-битных  машинах
                          не реализовано.

                 FFSSTTAABB__SSWW Указывает, что устройство  ffss__ssppeecc
                          не  содержит  файловой  системы, а
                          является   устройством   подкачки.
                          Значения   всех   остальных  полей
                          игнорируются.

                 FFSSTTAABB__XXXX Данное описание пропускается. Этот
                          признак используется, если описан-
                          ная файловая система  в  настоящий
                          момент не установлена.

        ffss__ffrreeqq  Данное значение задает частоту  копирования
                 файловой системы на магнитную ленту. Напри-
                 мер, если ffss__ffrreeqq равно 5, то файловая сис-
                 тема  копируется раз в пять дней.  (В ДЕМОС
                 2.1 на 16-битовых машинах не реализовано).

        ffss__ppaassssnnoo
                 Используется для определения  порядка  про-
                 верки  и  монтирования файловых систем. Для
                 корневой    файловой    системы    значение
                 ffss__ppaassssnnoo  должно  быть  равно 1. Остальные
                 файловые  системы  должны   иметь   большие
                 номера.  Файловые системы, расположенные на
                 одном физическом устройстве,  должны  иметь
                 различные номера, а расположенные на разных
                 устройствах могут иметь одинаковые.  Подоб-
                 ное   соглашение  позволяет  организовывать
                 параллельную  проверку  файловых  систем  и
                 экономить  время.  Следует  учитывать,  что
                 если файловая система монтируется на  ката-
                 лог  другой  файловой  системы, у последней
                 значение ffss__ppaassssnnoo должно быть меньше.

ФФААЙЙЛЛЫЫ
        /_e_t_c/_f_s_t_a_b

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _d_f(1), _g_e_t_f_s_e_n_t(3x), _d_u_m_p(8), _f_s_c_k(8), _m_o_u_n_t(8)












                            -2-                     ДЕМОС/PV

